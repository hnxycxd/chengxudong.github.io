var x=Object.defineProperty,v=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var E=(a,t,r)=>t in a?x(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,p=(a,t)=>{for(var r in t||(t={}))b.call(t,r)&&E(a,r,t[r]);if(d)for(var r of d(t))w.call(t,r)&&E(a,r,t[r]);return a},F=(a,t)=>v(a,C(t));import{r as $,R as e,F as l,I as c,i as o,h as g,T as f,j as B}from"./vendor.9c9523e4.js";/* empty css              */const D={weightUnit:"g"},I=[{dataIndex:"price",title:"\u552E\u4EF7"},{dataIndex:"weight",title:"\u91CD\u91CF",render:(a,t)=>e.createElement("span",null,`${a} ${t.weightUnit}`)},{dataIndex:"realPrice",title:"\u4EF7\u683C/\u65A4",render:a=>e.createElement(B,{color:"blue"},a.toFixed(2))},{dataIndex:"remark",title:"\u5907\u6CE8"}],N=()=>{const[a,t]=$.exports.useState([]),r=i=>{let n=[...a];n.push(F(p({},i),{key:n.length+1})),n=n.map(u=>{const s=u.weightUnit==="kg"?u.weight*1e3:u.weight;return u.realPrice=u.price*500/s,u}).sort((u,s)=>u.realPrice-s.realPrice),t(n)},h=()=>{const i={price:Math.random()*100,weight:Math.random()*100,weightUnit:"g"};r(i)},m=(i,n,u)=>{n&&!/^[0-9]*$/.test(n)?u("\u8BF7\u8F93\u5165\u6570\u5B57"):u()};return e.createElement("div",{className:"price"},e.createElement(l,{name:"basic",colon:!1,labelCol:{span:6},wrapperCol:{span:18},onFinish:r,initialValues:D,className:"price_form",autoComplete:"off"},e.createElement(l.Item,{label:"\u552E\u4EF7",name:"price",rules:[{required:!0,message:"\u4EF7\u683C\u4F60\u90FD\u4E0D\u586B\uFF0C\u600E\u4E48\u8BA1\u7B97!"},{validator:m}]},e.createElement(c,{placeholder:"\u591A\u5C11\u94B1",suffix:"\u5143"})),e.createElement(l.Item,{label:"\u91CD\u91CF",name:"weight",rules:[{required:!0,message:"\u54CE\u5440\uFF0C\u8FD9\u4E2A\u4E5F\u8981\u586B!"},{validator:m}]},e.createElement(c,{placeholder:"\u591A\u91CD"})),e.createElement(l.Item,{label:"\u5355\u4F4D",name:"weightUnit"},e.createElement(o.Group,null,e.createElement(o,{value:"g"},"g"),e.createElement(o,{value:"kg"},"kg"))),e.createElement(l.Item,{label:"\u5907\u6CE8",name:"remark"},e.createElement(c,{placeholder:"\u968F\u4FBF\u5199\u70B9"})),e.createElement(l.Item,{wrapperCol:{span:18,offset:6}},e.createElement(g,{htmlType:"submit",type:"primary"},"\u6DFB\u52A0"),e.createElement(g,{onClick:h,type:"primary"},"add test data"))),e.createElement("div",{className:"table_con"},e.createElement(f,{bordered:!0,className:"table",columns:I,pagination:!1,dataSource:a})))};export{N as default};
