var g=Object.defineProperty,x=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var E=(a,t,r)=>t in a?g(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,p=(a,t)=>{for(var r in t||(t={}))h.call(t,r)&&E(a,r,t[r]);if(d)for(var r of d(t))C.call(t,r)&&E(a,r,t[r]);return a},F=(a,t)=>x(a,v(t));import{r as $,R as e,F as n,I as s,i as c,h as b,T as f,j as w}from"./vendor.9c9523e4.js";/* empty css              */const B={weightUnit:"g"},I=[{dataIndex:"price",title:"\u552E\u4EF7"},{dataIndex:"weight",title:"\u91CD\u91CF",render:(a,t)=>e.createElement("span",null,`${a} ${t.weightUnit}`)},{dataIndex:"realPrice",title:"\u4EF7\u683C/\u65A4",render:a=>e.createElement(w,{color:"blue"},a.toFixed(2))},{dataIndex:"remark",title:"\u5907\u6CE8"}],y=()=>{const[a,t]=$.exports.useState([]),r=o=>{let l=[...a];l.push(F(p({},o),{key:l.length+1})),l=l.map(u=>{const i=u.weightUnit==="kg"?u.weight*1e3:u.weight;return u.realPrice=u.price*500/i,u}).sort((u,i)=>u.realPrice-i.realPrice),t(l)},m=(o,l,u)=>{l&&!/^[0-9]*$/.test(l)?u("\u8BF7\u8F93\u5165\u6570\u5B57"):u()};return e.createElement("div",{className:"price"},e.createElement(n,{name:"basic",colon:!1,labelCol:{span:6},wrapperCol:{span:18},onFinish:r,initialValues:B,className:"price_form",autoComplete:"off"},e.createElement(n.Item,{label:"\u552E\u4EF7",name:"price",rules:[{required:!0,message:"\u4EF7\u683C\u4F60\u90FD\u4E0D\u586B\uFF0C\u600E\u4E48\u8BA1\u7B97!"},{validator:m}]},e.createElement(s,{placeholder:"\u591A\u5C11\u94B1",suffix:"\u5143"})),e.createElement(n.Item,{label:"\u91CD\u91CF",name:"weight",rules:[{required:!0,message:"\u54CE\u5440\uFF0C\u8FD9\u4E2A\u4E5F\u8981\u586B!"},{validator:m}]},e.createElement(s,{placeholder:"\u591A\u91CD"})),e.createElement(n.Item,{label:"\u5355\u4F4D",name:"weightUnit"},e.createElement(c.Group,null,e.createElement(c,{value:"g"},"g"),e.createElement(c,{value:"kg"},"kg"))),e.createElement(n.Item,{label:"\u5907\u6CE8",name:"remark"},e.createElement(s,{placeholder:"\u968F\u4FBF\u5199\u70B9"})),e.createElement(n.Item,{wrapperCol:{span:18,offset:6}},e.createElement(b,{htmlType:"submit",type:"primary"},"\u6DFB\u52A0"))),e.createElement("div",{className:"table_con"},e.createElement(f,{bordered:!0,className:"table",columns:I,pagination:!1,dataSource:a})))};export{y as default};
